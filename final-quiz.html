<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Quiz & Certificate - Trusty Digital Safety</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .certificate {
            display: none;
            max-width: 800px;
            margin: 40px auto;
            border: 15px solid #34A853;
            padding: 40px;
            text-align: center;
            background-color: #f8f9fa;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .certificate h2 {
            font-size: 2.5rem;
            color: #4285F4;
            margin-bottom: 10px;
        }
        
        .certificate h3 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #34A853;
        }
        
        .certificate .name {
            font-size: 2rem;
            margin: 20px 0;
            font-weight: 700;
            border-bottom: 2px solid #FBBC05;
            display: inline-block;
            padding-bottom: 5px;
        }
        
        .certificate .date {
            margin: 20px 0;
            font-size: 1.2rem;
            color: #6c757d;
        }
        
        .quiz-container {
            margin-bottom: 30px;
        }
        
        .final-score {
            font-size: 1.3rem;
            margin: 20px 0;
            font-weight: 600;
        }
        
        .print-btn {
            background-color: #34A853;
        }
        
        .share-btn {
            background-color: #4285F4;
        }

        .print-btn, .share-btn {
            display: inline-block;
            color: white;
            padding: 12px 25px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            margin: 0 10px;
            text-decoration: none;
        }
        
        .print-btn:hover, .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-decoration: none;
        }
        
        #certificateName {
            padding: 12px 20px;
            font-size: 1.2rem;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 400px;
        }
        
        @media print {
            header, footer, .module-section:not(.certificate), .navigation-buttons {
                display: none !important;
            }
            
            .certificate {
                display: block !important;
                border: 15px solid #34A853 !important;
                box-shadow: none !important;
                margin: 0 !important;
            }
            
            .print-btn, .share-btn {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1>Trusty</h1>
                <p>Digital Safety for Everyone</p>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="curriculum.html" class="active">Curriculum</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="module-page">
            <div class="container">
                <div class="module-content">
                    <div class="module-header">
                        <h2>Final Quiz & Certificate</h2>
                        <p class="subtitle">Test your knowledge and get certified!</p>
                    </div>

                    <div class="module-section" id="quizSection">
                        <p>Congratulations on completing all the modules of the Trusty Digital Safety Course! Now it's time to test what you've learned.</p>
                        <p>This short quiz will cover key concepts from all the modules. After passing the quiz, you'll receive a Certificate of Trusty Safety that you can print or share with your family and friends.</p>
                        
                        <div class="quiz-container">
                            <p class="quiz-question">1. What should you do if you receive a suspicious email from your bank?</p>
                            <div class="quiz-options">
                                <div class="quiz-option" data-correct="false">Click the link in the email to check if there's a problem</div>
                                <div class="quiz-option" data-correct="false">Reply to the email with your account information</div>
                                <div class="quiz-option" data-correct="true">Call your bank using the number on your card or statement</div>
                                <div class="quiz-option" data-correct="false">Forward the email to your friends to warn them</div>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        
                        <div class="quiz-container">
                            <p class="quiz-question">2. Which of these is a sign of a secure website?</p>
                            <div class="quiz-options">
                                <div class="quiz-option" data-correct="false">The website address starts with "http://"</div>
                                <div class="quiz-option" data-correct="true">The website address starts with "https://" and has a lock symbol</div>
                                <div class="quiz-option" data-correct="false">The website has lots of pop-up advertisements</div>
                                <div class="quiz-option" data-correct="false">The website has an urgent countdown timer for a special offer</div>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        
                        <div class="quiz-container">
                            <p class="quiz-question">3. Which of these passwords is the strongest?</p>
                            <div class="quiz-options">
                                <div class="quiz-option" data-correct="false">password123</div>
                                <div class="quiz-option" data-correct="false">your birthday</div>
                                <div class="quiz-option" data-correct="false">the name of your pet</div>
                                <div class="quiz-option" data-correct="true">TrU$ty-C0ff3e-B00k!</div>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        
                        <div class="quiz-container">
                            <p class="quiz-question">4. If someone calls claiming to be from the IRS saying you need to pay taxes immediately or be arrested, what should you do?</p>
                            <div class="quiz-options">
                                <div class="quiz-option" data-correct="false">Pay immediately using gift cards as instructed</div>
                                <div class="quiz-option" data-correct="false">Give them your credit card information</div>
                                <div class="quiz-option" data-correct="true">Hang up, as the real IRS first contacts people by mail</div>
                                <div class="quiz-option" data-correct="false">Share your Social Security Number to verify your identity</div>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        
                        <div class="quiz-container">
                            <p class="quiz-question">5. Which of these is NOT a good way to verify if news is real?</p>
                            <div class="quiz-options">
                                <div class="quiz-option" data-correct="false">Check if other reputable news sources are reporting the same story</div>
                                <div class="quiz-option" data-correct="false">Look up the information on fact-checking websites like Snopes</div>
                                <div class="quiz-option" data-correct="true">Share it on social media to see if others think it's real</div>
                                <div class="quiz-option" data-correct="false">Consider whether the story seems to outrageous to be true</div>
                            </div>
                            <div class="feedback"></div>
                        </div>
                        
                        <div id="quizResults" style="display: none;">
                            <h3>Your Results</h3>
                            <p class="final-score">You got <span id="scoreCorrect">0</span> out of <span id="scoreTotal">5</span> questions correct!</p>
                            <div id="passFeedback" style="display: none;">
                                <p>Congratulations! You've passed the quiz. Enter your name below to generate your certificate.</p>
                                <div style="margin: 20px 0;">
                                    <label for="certificateName">Your Full Name:</label><br>
                                    <input type="text" id="certificateName" placeholder="Enter your name">
                                </div>
                                <button class="btn-primary" id="generateCert">Generate My Certificate</button>
                            </div>
                            <div id="failFeedback" style="display: none;">
                                <p>You need to get at least 4 out of 5 questions correct to pass. Would you like to try again?</p>
                                <button class="btn-primary" id="retryQuiz">Retry Quiz</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-section certificate" id="certificateSection">
                        <h2>Certificate of Completion</h2>
                        <h3>TRUSTY Digital Safety Course</h3>
                        <p>This certifies that</p>
                        <p class="name" id="certificateNameDisplay">Your Name</p>
                        <p>has successfully completed all modules and demonstrated knowledge of online safety principles.</p>
                        <p class="date" id="certificateDate"></p>
                        
                        <div style="margin-top: 30px;">
                            <button class="print-btn" onclick="window.print();">Print Certificate</button>
                            <button class="share-btn" onclick="shareCertificate();">Share Certificate</button>
                        </div>
                    </div>

                    <div class="navigation-buttons">
                        <a href="module8.html" class="btn-outline">Back to Module 8</a>
                        <a href="curriculum.html" class="btn-outline">Curriculum Overview</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const quizOptions = document.querySelectorAll('.quiz-option');
            const totalQuestions = document.querySelectorAll('.quiz-container').length;
            let correctAnswers = 0;
            let questionsAnswered = 0;
            
            // Set up quiz interactions
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const questionContainer = this.closest('.quiz-container');
                    const options = questionContainer.querySelectorAll('.quiz-option');
                    const feedback = questionContainer.querySelector('.feedback');
                    
                    // Skip if already answered
                    if (options[0].classList.contains('selected')) {
                        return;
                    }
                    
                    // Mark question as answered
                    questionsAnswered++;
                    
                    // Clear previous selections
                    options.forEach(opt => {
                        opt.classList.remove('selected', 'correct', 'incorrect');
                    });
                    
                    // Mark this option as selected
                    this.classList.add('selected');
                    
                    // Check if answer is correct
                    if(this.getAttribute('data-correct') === 'true') {
                        this.classList.add('correct');
                        correctAnswers++;
                        if(feedback) {
                            feedback.textContent = 'Correct!';
                            feedback.classList.remove('error');
                            feedback.classList.add('success');
                            feedback.style.display = 'block';
                        }
                    } else {
                        this.classList.add('incorrect');
                        if(feedback) {
                            feedback.textContent = 'Incorrect.';
                            feedback.classList.remove('success');
                            feedback.classList.add('error');
                            feedback.style.display = 'block';
                        }
                        
                        // Show the correct answer
                        options.forEach(opt => {
                            if(opt.getAttribute('data-correct') === 'true') {
                                opt.classList.add('correct');
                            }
                        });
                    }
                    
                    // Check if quiz is complete
                    if (questionsAnswered === totalQuestions) {
                        setTimeout(showResults, 1000);
                    }
                });
            });
            
            function showResults() {
                const resultsDiv = document.getElementById('quizResults');
                document.getElementById('scoreCorrect').textContent = correctAnswers;
                document.getElementById('scoreTotal').textContent = totalQuestions;
                
                if (correctAnswers >= 4) {
                    document.getElementById('passFeedback').style.display = 'block';
                    document.getElementById('failFeedback').style.display = 'none';
                } else {
                    document.getElementById('passFeedback').style.display = 'none';
                    document.getElementById('failFeedback').style.display = 'block';
                }
                
                resultsDiv.style.display = 'block';
                resultsDiv.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Reset quiz
            document.getElementById('retryQuiz').addEventListener('click', function() {
                correctAnswers = 0;
                questionsAnswered = 0;
                
                const allOptions = document.querySelectorAll('.quiz-option');
                const allFeedback = document.querySelectorAll('.feedback');
                
                allOptions.forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                });
                
                allFeedback.forEach(fb => {
                    fb.style.display = 'none';
                });
                
                document.getElementById('quizResults').style.display = 'none';
                
                window.scrollTo({
                    top: document.querySelector('.module-header').offsetTop - 100,
                    behavior: 'smooth'
                });
            });
            
            // Generate certificate
            document.getElementById('generateCert').addEventListener('click', function() {
                const nameInput = document.getElementById('certificateName').value;
                if (!nameInput) {
                    alert('Please enter your name to generate the certificate.');
                    return;
                }
                
                document.getElementById('certificateNameDisplay').textContent = nameInput;
                
                const today = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('certificateDate').textContent = today.toLocaleDateString('en-US', options);
                
                document.getElementById('quizSection').style.display = 'none';
                document.getElementById('certificateSection').style.display = 'block';
            });
        });
        
        function shareCertificate() {
            alert('To share your certificate, we recommend taking a screenshot or printing it to PDF and sharing it via email.');
        }
    </script>
</body>
</html>
